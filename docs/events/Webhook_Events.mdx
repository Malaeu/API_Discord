---
sidebar_label: Webhook Events
---

# Webhook Events

Webhook events are one-way events sent to your app over HTTP to notify you when an event occured. Unlike events that are [sent over Gateway connections](#TODO), events sent over webhooks are not realtime or guaranteed to be in order.

While [outgoing webhooks](#DOCS_RESOURCES_WEBHOOK) are triggered by an external service, webhook events (i.e. incoming webhooks) are triggered by events happening in Discord. Since your app is the one receiving the events over HTTP, you need to set up a URL and subscribe to events. TODO.

## Subscribing to Events

To configure webhook events, you'll need to configure your URL and select the events you want your app to receive.

In your [app's settings](https://discord.com/developers/applications), navigate to the **Webhooks** page from the left-hand sidebar then complete the following:

1. Under **Endpoint**, add a public [Webhook Events URL](#TODO) that is set up to receive and acknowledge webhook events
2. Enable Events by clicking the toggle in the **Events** section
3. Select the [webhook events](#DOCS_EVENTS_WEBHOOK_EVENTS/event-types) you want your app to receive
4. Click **Save Changes**

If your URL is successfully verified, your app should begin receiving the events you selected.

## Responding to Events

When your Webhook Event URL receives a webhook event, your app should respond with a `200` (Success) status code **within 3 seconds** to indicate that you successfully received it.

If your app doesn't respond to the webhook event, Discord will retry sending it several times using exponential backoff for up to 10 minutes. TODO: verify

If your app doesn't acknowledge that it received events, Discord will consider your endpoint inactive and eventually stop sending new events. TODO: verify

## Webhook Event Payloads

Webhook events are wrapped in an outer payload, with an inner `event` object.

### Payload Structure

Structure of the outer webhook payload

| Field          | Type                                                               | Description                                                |
|----------------|--------------------------------------------------------------------|------------------------------------------------------------|
| version        | integer                                                            | Version scheme for the webhook event. Currently always `1` |
| application_id | snowflake                                                          | ID of your app                                             |
| type           | string                                                             | [Webhook type](#TODO), either `"EVENT"` or `"PING"`        |
| event?         | [event body](#DOCS_EVENTS_WEBHOOK_EVENTS/event-body-object) object | Event data payload                                         |

### Event Body Object

The event body contains high-level data about the event, like the type and time it was triggered.

The inner `data` object contains information specific to the [event type](#DOCS_EVENTS_WEBHOOK_EVENTS/event-types).

| Field     | Type   | Description                                                                                        |
|-----------|--------|----------------------------------------------------------------------------------------------------|
| type      | string | [Event type](#DOCS_EVENTS_WEBHOOK_EVENTS/event-types)                                              |
| timestamp | string | Timestamp of when the event occurred in [ISO8601 format](#DOCS_REFERENCE/iso8601-datetime)         |
| data?     | object | Data for the event. The shape depends on the [event type](#DOCS_EVENTS_WEBHOOK_EVENTS/event-types) |

## Event Types

The table below includes the different webhook event types your app can subscribe to.

The event type corresponds to the `type` field in the [event body object](#DOCS_EVENTS_WEBHOOK_EVENTS/event-body-object).

| Name                                                                         | Type                     | Description                                             |
|------------------------------------------------------------------------------|--------------------------|---------------------------------------------------------|
| [Application Authorized](#DOCS_EVENTS_WEBHOOK_EVENTS/application-authorized) | `APPLICATION_AUTHORIZED` | Sent when an app was authorized by a user TODO: descrip |
| [Entitlement Create](#DOCS_EVENTS_WEBHOOK_EVENTS/entitlement-create)         | `ENTITLEMENT_CREATE`     | Entitlement was created                                 |
| [Quest User Enrollment](#DOCS_EVENTS_WEBHOOK_EVENTS/quest-user-enrollment)   | `QUEST_USER_ENROLLMENT`  | TODO                                                    |

#### Application Authorized

`APPLICATION_AUTHORIZED` is fired when the app is added to a server or user account.

###### Application Authorized Structure

| Field             | Type                  | Description                                                                                                             |
|-------------------|-----------------------|-------------------------------------------------------------------------------------------------------------------------|
| integration_type? | integer               | The type of authorization that occurred, whether the application was authorized for a guild (`0`) or a user (`1`). TODO |
| user              | [user object](#TODO)  | User who authorized the app                                                                                             |
| scopes            | array of strings      | List of [scopes](#TODO) the user authorized                                                                             |
| guild?            | [guild object](#TODO) | Guild which app was authorized for, when integration type is `0`                                                        |


###### Application Authorized Example

```json
{
  "version": 1,
  "application_id": "1234560123453231555",
  "type": "EVENT",
  "event": {
    "type": "APPLICATION_AUTHORIZED",
    "timestamp": "2024-10-18T14:42:53.064834",
    "data": {
      "integration_type": 1,
      "scopes": [
        "applications.commands"
      ],
      "user": {
        // user data
      }
    }
  }
}
```

#### Entitlement Create

Sent when an [entitlement](#DOCS_RESOURCES_ENTITLEMENT) is created when a user purchases or is granted one of your app's SKUs. Refer to the [Monetization documentation](#DOCS_MONETIZATION_OVERVIEW) for details.

###### Entitlement Create Structure

The inner payload is an [entitlement](#DOCS_RESOURCES_ENTITLEMENT/entitlement-object) object.

###### Entitlement Create Example

```json
TODO
```

#### Quest User Enrollment

TODO

###### Quest User Enrollment Structure

TODO

###### Quest User Enrollment Example

```json
TODO
```